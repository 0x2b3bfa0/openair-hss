msc {
width = "2048";
   S1AP_ENB, GTPU_SGW, S1AP_MME, MME_APP, NAS_MME, NAS_EMM, NAS_ESM, SP_GW_MME, S6A, HSS;
  NAS_EMM note NAS_EMM [ label = "0044:334375T3460
 started UE 0x88000a50 ", textcolour="black" ] ;
  NAS_EMM=>NAS_EMM [ label = "(47|0044:334394EMMREG_COMMON_PROC_REQ) ue id 0x88000a50 (authentication)", linecolour="black" , textcolour="black" ] ;
  NAS_EMM note NAS_EMM [ label = "0044:334494EMM
 state COMMON-PROCEDURE-INITIATED UE 0x88000a50 ", textcolour="black" ] ;
  S1AP_MME<=S1AP_ENB [ label = "(49|0044:5090260) uplinkNASTransport/Originating message mme_ue_s1ap_id 0x88000A50 eNB_ue_s1ap_id 0x06692D nas len 17", linecolour="black" , textcolour="black" ] ;
  S1AP_MME=>NAS_MME [ label = "(50|0044:5090330) NAS_UPLINK_DATA_IND ue_id 0x88000A50 len 17", linecolour="black" , textcolour="black" ] ;
  NAS_MME=>NAS_EMM [ label = "(51|0044:5090720) EMMAS_DATA_IND ue id 0x88000a50 len 17", linecolour="black" , textcolour="black" ] ;
  NAS_EMM note NAS_EMM [ label = "0044:509294T3460
 stopped UE 0x88000a50 ", textcolour="black" ] ;
  NAS_EMM=>NAS_EMM [ label = "(53|0044:509302EMMREG_COMMON_PROC_CNF) ue id 0x88000a50 ", linecolour="black" , textcolour="black" ] ;
  NAS_EMM note NAS_EMM [ label = "0044:509359EMM
 state DEREGISTERED UE 0x88000a50 ", textcolour="black" ] ;
  NAS_EMM=>NAS_EMM [ label = "(55|0044:509598EMMAS_SECURITY_REQ) ue id 0x88000a50 ", linecolour="black" , textcolour="black" ] ;
  NAS_EMM note NAS_EMM [ label = "0044:509680send
 SECURITY_MODE_COMMAND to ue id 0x88000a50 ", textcolour="black" ] ;
  NAS_MME=>S1AP_MME [ label = "(57|0044:5100380) NAS_DOWNLINK_DATA_REQ ue id 0x88000a50 len 13", linecolour="black" , textcolour="black" ] ;
  S1AP_MME=>S1AP_ENB [ label = "(58|0044:5100670) downlinkNASTransport/initiatingMessage ue_id 0x88000A50 mme_ue_s1ap_id 0x88000A50 eNB_ue_s1ap_id0x06692D nas length 13", linecolour="black" , textcolour="black" ] ;
  NAS_EMM note NAS_EMM [ label = "0044:510106T3460
 started UE 0x88000a50 ", textcolour="black" ] ;
  NAS_EMM=>NAS_EMM [ label = "(60|0044:510117EMMREG_COMMON_PROC_REQ) ue id 0x88000a50 (security mode control)", linecolour="black" , textcolour="black" ] ;
  NAS_EMM note NAS_EMM [ label = "0044:510191EMM
 state COMMON-PROCEDURE-INITIATED UE 0x88000a50 ", textcolour="black" ] ;
  S1AP_MME<=S1AP_ENB [ label = "(62|0044:5222850) uplinkNASTransport/Originating message mme_ue_s1ap_id 0x88000A50 eNB_ue_s1ap_id 0x06692D nas len 8", linecolour="black" , textcolour="black" ] ;
  S1AP_MME=>NAS_MME [ label = "(63|0044:5222880) NAS_UPLINK_DATA_IND ue_id 0x88000A50 len 8", linecolour="black" , textcolour="black" ] ;
  NAS_MME=>NAS_EMM [ label = "(64|0044:5223130) EMMAS_DATA_IND ue id 0x88000a50 len 8", linecolour="black" , textcolour="black" ] ;
  NAS_EMM note NAS_EMM [ label = "0044:522536T3460
 stopped UE 0x88000a50 ", textcolour="black" ] ;
  NAS_EMM=>NAS_EMM [ label = "(66|0044:522550EMMREG_COMMON_PROC_CNF) ue id 0x88000a50 (security mode complete)", linecolour="black" , textcolour="black" ] ;
  NAS_EMM note NAS_EMM [ label = "0044:522603EMM
 state DEREGISTERED UE 0x88000a50 ", textcolour="black" ] ;
  NAS_MME=>MME_APP [ label = "(68|0044:522735NAS_PDN_CONNECTIVITY_REQ) ue id 88000A50 IMSI 80001310", linecolour="black" , textcolour="black" ] ;
  MME_APP=>S6A [ label = "(69|0044:5228050) S6A_UPDATE_LOCATION_REQ imsi 208950000000002", linecolour="black" , textcolour="black" ] ;
  MME_APP=>SP_GW_MME [ label = "(71|0044:5250480) SGW_CREATE_SESSION_REQUEST imsi 208950000000002", linecolour="black" , textcolour="black" ] ;
  SP_GW_MME=>MME_APP [ label = "(72|0044:5252520) SGW_CREATE_SESSION_RESPONSE S11 MME teid 2080377024 S11 S-GW teid 1 S1U teid 1 S1U@ 0x101aac0 ebi 5 status 16", linecolour="black" , textcolour="black" ] ;
  MME_APP=>NAS_MME [ label = "(73|0044:5255200) NAS_PDN_CONNECTIVITY_RSP sgw_s1u_teid 1 ebi 5 qci 9 prio 1", linecolour="black" , textcolour="black" ] ;
  NAS_MME=>NAS_EMM [ label = "(74|0044:5255500) EMMCN_PDN_CONNECTIVITY_RES", linecolour="black" , textcolour="black" ] ;
  NAS_ESM note NAS_ESM [ label = "0044:5259290
 ESM state BEARER CONTEXT INACTIVE => BEARER CONTEXT ACTIVE PENDING 0x88000a50 ", textcolour="black" ] ;
  NAS_EMM note NAS_EMM [ label = "0044:526118send
 ATTACH_ACCEPT to s_TMSI 1.1811941664 ", textcolour="black" ] ;
  NAS_MME=>MME_APP [ label = "(77|0044:526506NAS_CONNECTION_ESTABLISHMENT_CNF) ue id 88000A50 len 91 sea 0 sia 40 ", linecolour="black" , textcolour="black" ] ;
  MME_APP=>S1AP_MME [ label = "(78|0044:5265350) MME_APP_CONNECTION_ESTABLISHMENT_CNF ebi 5 s1u_sgw teid 1 qci 9 prio level 1 sea 0x0 sia 0x40", linecolour="black" , textcolour="black" ] ;
  NAS_EMM note NAS_EMM [ label = "0044:526554T3450
 started UE 0x88000a50 ", textcolour="black" ] ;
  S1AP_MME=>S1AP_ENB [ label = "(80|0044:5266260) InitialContextSetup/initiatingMessage mme_ue_s1ap_id 0x88000A50 eNB_ue_s1ap_id 0x06692D nas length 91", linecolour="black" , textcolour="black" ] ;
  S1AP_MME<=S1AP_ENB [ label = "(81|0044:5504900) UECapabilityInfoIndication/Originating message eNB_ue_s1ap_id 0x06692D mme_ue_s1ap_id 0x88000A50 ", linecolour="black" , textcolour="black" ] ;
  S1AP_MME=>MME_APP [ label = "(82|0044:5504940) S1AP_UE_CAPABILITIES_IND eNB_ue_s1ap_id 0x06692D mme_ue_s1ap_id 0x88000A50 len 19", linecolour="black" , textcolour="black" ] ;

}
