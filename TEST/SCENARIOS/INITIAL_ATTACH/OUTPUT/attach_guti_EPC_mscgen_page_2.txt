msc {
width = "2048";
   S1AP_ENB, GTPU_SGW, S1AP_MME, MME_APP, NAS_MME, NAS_EMM, NAS_ESM, SP_GW_MME, S6A, HSS;
  MME_APP=>NAS_MME [ label = "(83|0) NAS_PDN_CONNECTIVITY_RSP sgw_s1u_teid 1 ebi 5 qci 9 prio 1", linecolour="black" , textcolour="black" ] ;
  NAS_MME=>NAS_EMM [ label = "(84|0) EMMCN_PDN_CONNECTIVITY_RES", linecolour="black" , textcolour="black" ] ;
  NAS_ESM note NAS_ESM [ label = "ESM state BEARER CONTEXT INACTIVE => BEARER CONTEXT ACTIVE PENDING 0x540010d0 ", textcolour="black" ] ;
  NAS_EMM note NAS_EMM [ label = "send ATTACH_ACCEPT to s_TMSI 1.1811941664 ", textcolour="black" ] ;
  NAS_MME=>MME_APP [ label = "(87|0) NAS_CONNECTION_ESTABLISHMENT_CNF ue id 540010D0 len 83 sea 0 sia 40 ", linecolour="black" , textcolour="black" ] ;
  NAS_EMM note NAS_EMM [ label = "T3450 started UE 0x540010d0 ", textcolour="black" ] ;
  MME_APP=>S1AP_MME [ label = "(89|0) MME_APP_CONNECTION_ESTABLISHMENT_CNF ebi 5 s1u_sgw teid 1 qci 9 prio level 1 sea 0x0 sia 0x40", linecolour="black" , textcolour="black" ] ;
  S1AP_MME=>S1AP_ENB [ label = "(90|0) InitialContextSetup/initiatingMessage mme_ue_s1ap_id 0x540010D0 eNB_ue_s1ap_id 0x06692D nas length 83", linecolour="black" , textcolour="black" ] ;
  S1AP_MME<=S1AP_ENB [ label = "(91|0) UECapabilityInfoIndication/Originating message eNB_ue_s1ap_id 0x06692D mme_ue_s1ap_id 0x540010D0 ", linecolour="black" , textcolour="black" ] ;
  S1AP_MME=>MME_APP [ label = "(92|0) S1AP_UE_CAPABILITIES_IND eNB_ue_s1ap_id 0x06692D mme_ue_s1ap_id 0x540010D0 len 19", linecolour="black" , textcolour="black" ] ;
  S1AP_MME<=S1AP_ENB [ label = "(93|0) InitialContextSetup/Successfull outcome eNB_ue_s1ap_id 0x06692D mme_ue_s1ap_id 0x540010D0 len 3623873352", linecolour="black" , textcolour="black" ] ;
  S1AP_MME=>MME_APP [ label = "(94|0) MME_APP_INITIAL_CONTEXT_SETUP_RSP mme_ue_s1ap_id 0x540010D0 ebi 5 s1u enb teid 3396329693", linecolour="black" , textcolour="black" ] ;
  MME_APP=>SP_GW_MME [ label = "(95|0) SGW_MODIFY_BEARER_REQUEST teid 1 ebi 5", linecolour="black" , textcolour="black" ] ;
  SP_GW_MME=>MME_APP [ label = "(96|0) SGW_MODIFY_BEARER_RESPONSE ebi 5  trxn 0", linecolour="black" , textcolour="black" ] ;
  S1AP_MME<=S1AP_ENB [ label = "(97|0) uplinkNASTransport/Originating message mme_ue_s1ap_id 0x540010D0 eNB_ue_s1ap_id 0x06692D nas len 13", linecolour="black" , textcolour="black" ] ;
  S1AP_MME=>NAS_MME [ label = "(98|0) NAS_UPLINK_DATA_IND ue_id 0x540010D0 len 13", linecolour="black" , textcolour="black" ] ;
  NAS_MME=>NAS_EMM [ label = "(99|0) EMMAS_DATA_IND ue id 0x540010d0 len 13", linecolour="black" , textcolour="black" ] ;
  NAS_EMM note NAS_EMM [ label = "T3450 stopped UE 0x540010d0 ", textcolour="black" ] ;
  NAS_ESM note NAS_ESM [ label = "ESM state BEARER CONTEXT ACTIVE PENDING => BEARER CONTEXT ACTIVE 0x540010d0 ", textcolour="black" ] ;
  NAS_EMM note NAS_EMM [ label = "EMM state REGISTERED ", textcolour="black" ] ;
  S1AP_MME<=S1AP_ENB [ label = "(103|0) UEContextReleaseRequest/Originating message eNB_ue_s1ap_id 0x06692D mme_ue_s1ap_id 0x540010D0 len 3623873352", linecolour="black" , textcolour="black" ] ;
  S1AP_MME=>MME_APP [ label = "(104|0) S1AP_UE_CONTEXT_RELEASE_REQ mme_ue_s1ap_id 0x540010D0 ", linecolour="black" , textcolour="black" ] ;
  MME_APP=>SP_GW_MME [ label = "(105|0) SGW_RELEASE_ACCESS_BEARERS_REQUEST teid 1 ebi 5", linecolour="black" , textcolour="black" ] ;
  SP_GW_MME=>MME_APP [ label = "(106|0) SGW_RELEASE_ACCESS_BEARERS_RESPONSE S11 MME teid 1476397248 cause REQUEST_ACCEPTED", linecolour="black" , textcolour="black" ] ;
  MME_APP=>S1AP_MME [ label = "(107|0) S1AP_UE_CONTEXT_RELEASE_COMMAND mme_ue_s1ap_id 540010D0 ", linecolour="black" , textcolour="black" ] ;
  S1AP_MME=>S1AP_ENB [ label = "(108|0) UEContextRelease/initiatingMessage eNB_ue_s1ap_id 0x06692D mme_ue_s1ap_id 0x540010D0", linecolour="black" , textcolour="black" ] ;
  S1AP_MME note S1AP_MME [ label = "Event SCTP_CLOSE_ASSOCIATION assoc_id: 43", textcolour="black" ] ;
  S1AP_MME=>NAS_MME [ label = "(110|0) S1AP_ENB_DEREGISTERED_IND num ue to deregister 1", linecolour="black" , textcolour="black" ] ;
  NAS_MME=>NAS_EMM [ label = "(111|0) EMMCN_DEREGISTER_UE ue_id 0x540010d0 ", linecolour="black" , textcolour="black" ] ;
  NAS_EMM=>NAS_EMM [ label = "(112|0) EMM_AS_NAS_INFO_DETACH ue id 0x540010d0 ", linecolour="black" , textcolour="black" ] ;
  NAS_MME=>S1AP_MME [ label = "(113|0) NAS_DOWNLINK_DATA_REQ ue id 0x540010d0 len 8", linecolour="black" , textcolour="black" ] ;
  NAS_EMM=>NAS_ESM [ label = "(114|0) ESM_EPS_BEARER_CONTEXT_DEACTIVATE_REQ ue id 0x540010d0 ", linecolour="black" , textcolour="black" ] ;
  NAS_ESM note NAS_ESM [ label = "ESM state BEARER CONTEXT ACTIVE => BEARER CONTEXT INACTIVE 0x540010d0 ", textcolour="black" ] ;
  NAS_EMM=>NAS_EMM [ label = "(116|0) EMMREG_DETACH_REQ ue id 0x540010d0 ", linecolour="black" , textcolour="black" ] ;
  NAS_EMM note NAS_EMM [ label = "EMM state DEREGISTERED ", textcolour="black" ] ;

}
